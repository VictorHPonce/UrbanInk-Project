<form [formGroup]="filterForm" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-6">

    <div class="flex flex-col md:flex-row gap-4 justify-between">

        <div class="relative w-full md:w-96">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                <app-icon name="search" class="w-5 h-5" />
            </div>
            <input formControlName="search" placeholder="Buscar productos..."
                class="pl-10 block w-full rounded-xl border-gray-200 bg-gray-50 focus:bg-white focus:border-indigo-500 focus:ring-indigo-500 transition-all py-2.5">
        </div>

        <div class="relative w-full sm:w-auto">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500">
                <app-icon name="sort-desc" class="w-5 h-5" />
            </div>

            <select formControlName="sort"
                class="block w-full rounded-xl border-gray-200 bg-white py-2.5 pl-10 pr-10 focus:border-indigo-500 focus:ring-indigo-500 appearance-none cursor-pointer hover:border-indigo-300 transition-colors text-sm font-medium text-gray-700">
                <option value="newest">MÃ¡s recientes</option>
                <option value="price_asc">Precio: Bajo a Alto</option>
                <option value="price_desc">Precio: Alto a Bajo</option>
            </select>

            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-500">
                <app-icon name="chevron-down" class="w-4 h-4" />
            </div>
        </div>
    </div>

    <div class="border-t border-gray-100"></div>

    <div class="flex flex-col sm:flex-row gap-6 items-start sm:items-center justify-between">

        <div class="flex flex-wrap gap-2">
            <button type="button" (click)="setCategory(null)"
                class="px-4 py-1.5 rounded-full text-sm font-medium transition-all border"
                [class]="!currentCategory ? 'bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200' : 'bg-white text-gray-600 border-gray-200 hover:border-indigo-300'">
                Todos
            </button>

            @for (cat of categories; track cat) {
            <button type="button" (click)="setCategory(cat)"
                class="px-4 py-1.5 rounded-full text-sm font-medium transition-all border capitalize"
                [class]="currentCategory === cat ? 'bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200' : 'bg-white text-gray-600 border-gray-200 hover:border-indigo-300'">
                {{ cat }}
            </button>
            }
        </div>

        <label class="flex items-center cursor-pointer group">
            <div class="relative">
                <input type="checkbox" formControlName="onlyAvailable" class="sr-only peer">
                <div
                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600">
                </div>
            </div>
            <span class="ml-3 text-sm font-medium text-gray-700 group-hover:text-indigo-600 transition-colors">Solo
                disponibles</span>
        </label>

    </div>
</form>